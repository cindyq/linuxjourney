# اجزای DNS

# محتوای درس

پایگاه داده DNS اینترنت، وابسته به سازمان‌هایی است که بخش‌های مختلفی از داده‌های
مورد نیاز آن را فراهم می‌کنند، که برای این منظور به موارد زیر نیازمندند:

### ‏‎Name Server

ما DNS را با استفاده از «name server»ها پیاده‌سازی می‌کنیم‌، name server‌ها‌، تنظیمات
DNS را بارگذاری می‌کنند و به درخواست‌های کلاینت‌ها یا سرور‌های دیگری که می‌خواهند
بدانند مثلا «google.com کیست؟» جواب می‌دهند. اگر name serverی جواب این سوال را
نداند‌، درخواست را به سمت name server دیگری هدایت می‌کند. name server‌ها می‌توانند
«قابل اطمینان» باشند. به این معنی که یا مقدار اصلی DNSای را که شما جستجو می‌کنید، در خود ذخیره کرده‌اند، و یا «معنای بازگشتی» آن را به این معنی که تا زمانی که
یک جواب درست شامل مقدار اصلی DNS را پیدا کنند‌، از name server‌های دیگر پرس و جو
می‌کنند. سرور‌های بازگشتی همچنین می‌توانند این مقدار را به صورت کش برای دسترسی‌های
بعدی در خود ذخیره کنند.

### فایل محدوده (Zone File)

داخل هر name server‌، فایلی به اسم «فایل محدوده» وجود دارد. این فایل‌ها شامل
اطلاعاتی در مورد چگونگی دریافت دامین‌های موجود یا غیرموجود می‌شوند.

### منابع

یک zone file‌، شامل داده‌های منابع می‌شود. هر خط یک ورودی است و شامل اطلاعات
میزبان‌ها‌، nameserver‌ها و دیگر منابع است. فیلد‌های مربوطه به شرح زیر است:

* نام ورودی (record)
* TTL: مدت زمانی که پس از آن ما ورودی را باطل کرده تا در یک درخواست جدید دریافتش
  کنیم. TTL بر اساس زمان محاسبه می‌شود و رکورد‌ها می‌توانند دارای TTL برابر با یک
  ساعت باشند. دلیل این کارمان این است که اینترنت دائما در حال تغییر است. میزبانی
  برای یک دقیقه از طریق شناسه IP برابر X در دسترس است ولی یک دقیقه بعد‌، با شناسه
  Y باید شناسایی شود.
* Class: محدودهٔ نام (NameSpace) داده‌های ذخیره شده‌، معمولا از IN برای اشاره به
  رکورد‌های اینترنت استفاده می‌شود.
* Type: نوع داده‌های ذخیره شده را نشان می‌دهد. ما انواع داده‌ها را مورد بحث قرار
  نمی‌دهیم ولی شما احتمالا نمونه‌هایی از نوع A برای آدرس و MX برای Mail exchanger
  را دیده‌اید.
* Data: این فیلد زمانی که نوع داده A است‌، شامل یک شناسهٔ IP است و همین‌طور نسبت به
  انواع دیگر داده‌ها تغییر می‌کند.

```
patty    IN  A      192.168.0.4
```

## تمرینات

این بخش تمرینی ندارد.

## سوالات آزمون

نوع (type) مورد استفاده برای ذخیرهٔ رکورد Mail Exchanger چه نام دارد؟

## پاسخ آزمون

MX
