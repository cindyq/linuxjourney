# ‏‎/etc/hosts

## محتوای درس

قبل از این که ماشین ما درخواستش را برای جستجوی DNS ارسال کند‌، اول مطمئن می‌شود که
خودش آن اطلاعات را در اختیار ندارد (قبلا دریافت نکرده):

## ‏‎/etc/hosts

فایل ‎/etc/hosts شامل نگاشت (map) تعداد hostname به شناسه IP‌شان است. فیلد‌های
موجود در این فایل کاملا واضح‌اند. اول شناسه IP، بعد hostname و سپس نام‌های مستعار (alias):

```
pete@icebox:~$ cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       icebox
```

احتمالا می‌توانید آدرس localhost که به صورت پیش‌فرض در این فایل ذخیره می‌شود را در
سیستم‌تان ببینید. همین‌طور می‌توانید دسترسی به هاست‌ها را با ویرایش فایل
‎/etc/hosts.deny یا ‎/etc/hosts.allow کنترل کنید. اما توجه داشته باشید که اگر
امنیت برای‌تان مهم است‌، این روش درستی برای مدیریت دسترسی‌ها نیست و باید فایر‌وال‌تان
را درست تنظیم کنید.

بیایید یک تغییر باحال در ‎/etc/hosts اعمال کنیم. این فایل را باز کنید و خط زیر را در آن وارد کنید:

```
123.45.6.7  www.google.com
```

فایل را ذخیره کنید و حالا آدرس www.google.com را در مرورگرتان باز کنید. مشکلی
پیش آمده؟ خوب این به این دلیل است که ما www.google.com را به یک شناسه IP کاملا
اشتباه راهنمایی کردیم. از همین رو در خواست شما هرگز به جستجوی DNS برای پیدا کردن
google.com دسترسی پیدا نخواهد کرد.

### ‏‎/etc/resolv.conf

سابقا‌، ما از فایلی به اسم ‎/etc/resolv.conf برای ذخیرهٔ name server‌ها استفاده
می‌کردیم تا جستجو‌های کار‌آمد‌تری داشته باشیم، به هر حال‌، با پیشرفت‌های اعمال شده در
DNS این فایل دیگر تقریبا کارایی‌اش را از دست داده. در واقع شما می‌توانید در نمونهٔ
پایین ببینید که فایل ‎/etc/resolve.conf به صورت دستی کنترل نمی‌شود.
برای تنظیمات مربوط به توزیع خود‌، به راهنمای DNS name server مربوطه مراجعه کنید.

```
conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1
search localdomain
```

## تمرینات

تمرینی برای این بخش وجود ندارد.

## سوال آزمون

کدام فایل برای نگاشت بین شناسه IP و hostname‌ها استفاده می‌شود؟

## پاسخ آزمون

/etc/hosts
