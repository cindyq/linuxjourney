# سیستم لاگینگ

## محتویات درس

‫سرویس‌ها، هسته، دیمن‌ها و غیره بر روی سیستم شما دائما در حال انجام کارهای مربوط به خود هستند. اطلاعات این آیتم‌ها در قالب لاگ‌ها بر روی سیستم شما ذخیره می‌شوند. ولی چرا؟ این کار به شما اجزاه می‌دهد که یک نوشته‌ی قابل خواندن به زبان آدمیزاد از اتفاقاتی که در سیستم شما رخ می‌دهد داشته باشید. این اطلاعات معمولا در دایرکتوری ‎/var نگه‌داری می‌شوند. جایی که اطلاعات در حال تغییر ذخیره می‌شوند.

‫ولی این پیغام‌ها چطوری توسط سیستم شما دریافت می‌شوند؟ سرویسی به اسم syslog وظیفه‌ی ارسال این اطلاعات را به سیستم‌لاگر بر عهده دارد.

‫سیس‌لاگ در اصل شامل اجزای بسیار زیادی‌ست. یکی از مهم‌ترین آن‌ها دیمن در حال اجرایی به اسم syslogd است. (در توزیع‌های جدیدتر لینوکس از rsyslogd استفاده می‌شود) که منتظر یک پیغام رخداد می‌شود. زمانی که رخدادی، اتفاق افتاد، آن‌هایی که می‌خواهد را فیلتر می‌کند و با توجه به نوع پیغام، کاری که لازم است را با آن پیام انجام می‌دهد و آن را به سمت یک فایل یا کنسول می‌فرستد یا تصمیم می‌گیرد که هیچ کاری نکند.

شاید فکر کنید که سیستم لاگر مکانی‌ست که لاگ‌ها مدیریت می‌شوند ولی متاسفانه اینگونه نیست. در آینده شما برنامه‌های مختلفی را خواهید دید که خودشان با قوانین خودشان لاگ‌ها را می‌نویسند. با این وجود قالب یک لاگ معمولا شامل زمان رخداد به همراه جزئیات می‌شود.

‫با هم نگاهی به یک خط از سیس‌لاگ بیندازیم:

```
pete@icebox:~$ less /var/log/syslog
Jan 27 07:41:32 icebox anacron[4650]: Job `cron.weekly' started
```

چیزی که ما می‌بینید این است که در تاریخ ۲۷ ژوئن ساعت هفت و چهل یک دقیقه و سی و دو ثانیه سرویس cron وظیفه‌ی cron.weekly را اجرا کرده. شما می‌توانید تمام پیغام‌های مربوط به رخدادها را در فایل ‎/var/log/syslog ببینید.

## تمرین

به فایل ‎/var/log/syslog نگاهی بیندازید. دستگاه شما چه کارهای دیگری کرده است؟

## سوال آزمون

دیمن‌ی که لاگ را بر روی سیستم‌های جدیدتر لینوکسی مدیریت می‌کند، اسمش چیست؟

## پاسخ آزمون

rsyslogd
