# syslog / سیس‌لاگ

## محتویات درس

سرویس syslog مدیریت و فرستادن لاگ‌ها به سیستم لاگر را بر عهده دارد. Rsyslog یک نسخه‌ی پیشرفته از سیس‌لاگ به حساب می‌آید و اکثر توزیع‌های لینوکسی بایستی از این نسخه استفاده کنند. خروجی تمام لاگ‌هایی که سیس‌لاگ جمع‌آوری می‌کند در ‎/var/log/syslog نگه‌داری می‌شود (تمام پیام‌ها به غیر از پیام‌های auth یا اصالت‌سنجی).

‫برای اینکه بفهمید چه فایل‌هایی توسط سیستم لاگر نگه‌داری و مراقبت می‌شوند به فایل‌های پیکربندی در ‎/etc/rsyslog.d مراجعه کنید.

```
pete@icebox:~$ less /etc/rsyslog.d/50-default.conf
# First some standard log files.  Log by facility.
#
auth,authpriv.*                 /var/log/auth.log
*.*;auth,authpriv.none          -/var/log/syslog
#cron.*                         /var/log/cron.log
#daemon.*                       -/var/log/daemon.log
kern.*                          -/var/log/kern.log
#lpr.*                          -/var/log/lpr.log
mail.*                          -/var/log/mail.log
#user.*                         -/var/log/user.log
```

‫در سمت چپ ستون مقرراتی که برای فایل‌های لاگ برقرار است، مشخص شده و کاری که بایستی انجام شود در ستون سمت راست. عملی که بایستی انجام شود در ستون سمت راست به ما می‌گوید که اطلاعات لاگ را به کجا بفرستیم، به یک فایل، به یک کنسول و یا غیره. یادتان باشد که تمام برنامه‌ها یا سرویس‌ها از rsyslog برای مدیریت لاگ‌هایشان استفاده نمی‌کنند، بنابراین اگر شما می‌خواهید بدانید چه چیزهایی لاگ می‌شوند بایستی داخل این دایرکتوری را یک نگاهی بیندازید.

‫بیایید لاگ کردن در عمل را ببینیم. شما می‌توانید با دستور logger یک لاگ را ارسال کنید.

```
logger -s Hello
```

‫حالا به ‎/var/log/syslog نگاهی بیندازید. بایستی که مدخل مورد نظر را در فایل بالا ببینید.

## تمرین

به فایل پیکربندی موجود در ‎/etc/rsyslog.d نگاهی بیندازید و ببینید که چه چیزهای دیگری توسط سیستم لاگر، ثبت می‌شود.

## سوال آزمون

با چه دستوری می‌توانید به صورت دستی یک پیام را لاگ کنید؟

## پاسخ آزمون

logger
