# ‏dd

## محتوای درس

‏dd ابزاری فوق‌العاده برای تبدیل و کپی داده است. داده‌ها را از یک فایل یا یک جریان
داده (data stream) خوانده و آن را داخل یک فایل یا جریان داده‌ای دیگر می‌نویسد. 

به دستور زیر توجه کنید:

```
$ dd if=/home/pete/backup.img of=/dev/sdb bs=1024
```

این دستور محتوای backup.img را در ‎/dev/sdb کپی می‌کند. همچنین داده‌ها در بلاک‌های
۱۰۲۴ بایتی کپی می‌شوند تا وقتی که دیگر دیتایی برای کپی شدن باقی نمانده باشد.

- ‏if=file - فایل ورودی، به جای ورودی استاندارد‌، داده‌ها را از یک فایل بخوان.
- of=file - فایل خروجی، به جای خروجی استاندارد‌، داده‌ها را در یک فایل خروجی بنویس.
- bs=bytes - حجم بلاک، به dd می‌فهماند که به اندازهٔ تعیین شده در این قسمت از ورودی
  دیتا بخواند و در خروجی بنویسد. شما می‌توانید از اندازه‌ها و واحد‌های مختلف برای این منظور
  استفاده کنید. برای نشانه‌گذاری واحد‌های دیگر می‌توانید از k برای کیلوبایت‌، m برای مگابایت و
  به همین صورت از نشانه‌های واحد‌های بزرگتر استفاده کنید. همچنین لازم به ذکر است که ۱۰۲۴ 
  بایت برابر با 1k است. 
- count=number - تعداد بلاک‌هایی که باید کپی شوند. 

دستور‌های dd‌ای را خواهید دید که که از آرگومان count استفاده می‌کنند. معمولا وقتی
از dd برای کپی یک فایل یک مگابایتی استفاده می‌کنید، انتظار دارید که پس از کپی
فایل مقصد حجمی برابر یک مگابایت داشته باشد. بیایید فرض کنیم شما دستور زیر را
اجرا می‌کنید:

```
$ dd if=/home/pete/backup.img of=/dev/sdb bs=1 count=2
```

حجم فایل backup.img برابر 10M است، اما دستور ما از dd می‌خواهد که دو بخش 1 مگابایتی از
آن را کپی کند، پس فقط ۲ مگابایت از این فایل کپی خواهد شد، و کپی دیتا را ناقص
خواهد گذاشت. count می‌تواند در مواردی کاربردی هم باشد‌، اما اگر می‌خواهید دیتایتان
را کپی کنید احتمالا از count و شاید هم bs استفاده نخواهید کرد. اما اگر واقعا می‌خواهید 
فرآیند انتقال داده‌تان را بهینه کنید‌، شاید استفاده از این دو آرگومان به شما کمک کند. 

‏dd دستوری فوق‌العاده قدرتمند است‌، می‌توانید از آن برای پشتیبان گیری از هر چیزی مثل
یک دیسک سخت کامل یا بازیابی image‌های دیسک و خیلی چیز‌های دیگر استفاده کنید.
همچنین توجه داشته باشید که در صورت عدم آشنایی با این دستور، استفاده از آن
می‌تواند هزینه‌هایی هم برای‌تان داشته باشد.

## تمرینات

از دستور dd برای پشتیبان گیری از درایو‌تان در یک فایل ‎.img استفاده کنید.

## سوالات آزمون

کدام آرگومان از دستور dd برای مشخص کردن اندازهٔ بلاک استفاده می‌شود. 

## پاسخ آزمون

bs
