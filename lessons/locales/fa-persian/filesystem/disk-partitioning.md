# پارتیشن‌بندی دیسک سخت

## محتویات درس

وقتش شده که کمی دست به کار شویم و یک درایو USB را با فایل‌سیستم‌های مختلف امتحان کنیم. درایو USB چیست؟ یه فلش‌مموری دارید؟ همان برای شروع خوب است. همان هم ندارید؟ باز هم اشکالی ندارد.

اول باید دیسک‌مان را پارتیشن‌بندی کنیم. ابزارهای زیادی برای این کار هست که خب ما با یکی به هر حال شروع می‌کنیم.

+ fdisk – یک ابزار ابتدایی خط‌فرمان که از GPT پشتیبانی نمی‌کند.
+ parted – یک ابزار خط‌فرمانی که هم از MBR و هم از GPT پشتیبانی می‌کند.
+ gparted – رابط گرافیکی برنامه‌ی parted
+ gdisk – همان fdisk با این تفاوت که به جای پشتیبانی از MBR، تنها از GPT پشتیبانی می‌کند.

از parted برای پارتیشن‌بندی‌مان استفاده می‌کنیم. فرض کنید که درایو USB را وصل کردیم و اکنون نامش ‎/dev/sda2 هست.

**parted را آتش کنید**

```$ sudo parted```

اکنون وارد فضای کاری ابزار parted شدید و می‌توانید فرامین مربوطه را برای پارتیشن‌بندی دستگاه خود، اجرا کنید.

**انتخاب دستگاه یا دیوایس**

```select /dev/sdb2```

برای انتخاب دستگاهی که می‌خواهید بر روی آن کار کنید، نامش را تایپ نمائید.

**دیدن وضعیت فعلی جدول پارتیشن‌ها**

```
(parted) print                                                            
Model: Seagate (scsi)
Disk /dev/sda: 21.5GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos

Number  Start   End     Size    Type      File system     Flags
 1      1049kB  6860MB  6859MB  primary   ext4            boot
 2      6861MB  21.5GB  14.6GB  extended
 5      6861MB  7380MB  519MB   logical   linux-swap(v1)
 6      7381MB  21.5GB  14.1GB  logical   xfs
```

همانطور که در بالا می‌بینید، تمام پارتیشن‌های موجود بر روی دستگاه، نمایش داده شده است. نقطه آغاز که با **start** و پایان که با **end** مشخص شده نشان‌دهنده‌ی موقعیت‌هایی‌ست که پارتیشن بر روی دیسک، قرار گرفته و خب به شما کمک می‌کند تا نقطه‌ی آغاز و پایان مناسب با شرایط خود را انتخاب کنید.

**پارتیشن‌بندی دستگاه**

```mkpart primary 123 4567```

اکنون یک نقطه آغاز و پایان انتخاب کنید و پارتیشن را بسازید. همچنین بر اساس جدول پارتیشنی که استفاده می‌کنید، لازم است نوع پارتیشن را نیز مشخص کنید.

**تغییر اندازه پارتیشن**

همچنین می‌توانید یک پارتیشن را، مثلاً اگر فضای خالی ندارید، تغییر اندازه دهید.

```resize 2 1245 3456```

شماره پارتیشن را انتخاب کنید و سپس نقطه‌ی آغاز و پایانی که می‌خواهید پارتیشنتان به آن منتقل شود را مشخص نمائید.

Parted یک ابزار قدرتمند است، با این حساب بایستی به مانند یه چاقوی دو لبه، هنگام استفاده از آن دقت کافی را داشته باشید وگرنه مشکل‌ساز خواهد شد.

## تمرین

یک درایو USB را پارتیشن‌بندی کنید. به این صورت که نصف درایو را پارتیشنی با فایل‌سیستم ext4 بگیرد و نیم دیگرش خالی باشد.

## سؤال آزمون

فرمانی که در parted برای ساخت یک پارتیشن استفاده می‌کنیم چیست؟

## پاسخ آزمون

mkpart
