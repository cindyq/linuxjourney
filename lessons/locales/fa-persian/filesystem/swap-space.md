# swap

## محتویات درس

در مثال قبلی، به شما نحوه‌ی دیدن جدول پارتیشن را نشان دادیم. بیایید به همان مثال برگردیم و یک خط ویژه را با دقت مضاعفی بررسی کنیم.

```
Number  Start   End     Size    Type      File system     Flags
 5      6861MB  7380MB  519MB   logical   linux-swap(v1)
```

پارتیشن سواپ (SWAP) چیست؟ سواپ در حقیقت حافظه‌ی مجازی اختصاص داده شده به سیستم، محسوب می‌شود. اگر با کمبود حافظه‌ی اصلی (RAM) مواجه شوید، سیستم از سواپ برای جابجا کردن قسمت‌هایی از حافظه که در وضعیت بی‌کار به سر می‌برند به پارتیشن مذکور استفاده می‌کند، در نتیجه سیستم شما به خاطر کمبود حافظه کُند نمی‌شود. اصلاً Swap در انگلیسی به معنی «جابجا یا تعویض کردن دو چیز» است.

**استفاده از یک پارتیشن برای فضای سواپ**

فرض کنید که می‌خواهیم پارتیشنی که در مسیر ‎/dev/sdb2 قرار دارد را به فضای سواپ اختصاص دهیم.

+ اول مطمئن شوید که هیچ اطلاعات خاصی بر روی پارتیشن مذکور ندارید، چرا که نابود خواهند شد.
+ فرمان mkswap /dev/sdb2 را برای آماده‌سازی فضای سواپ صادر کنید.
+فرمان swapon /dev/sdb2 را برای فعال کردن دیوایس سواپ صادر کنید.
+ اگر می‌خواهید که پارتیشن سواپ از زمان راه‌اندازی مورد استفاده قرار بگیرد، بایستی یک ورودی به فایل ‎/etc/fstab اضافه کنید. sw نوع فایل‌سیستم شما برای سواپ خواهد بود.
+ شاید به هر دلیلی نخواهید که از سواپ استفاده کنید. برای این کار دستور swapoff /dev/sdb2 را بزنید. و اگر خطی به fstab اضافه کرده‌اید، حذفش کنید.

در حالت کلی شما بایستی فضایی معادل دو برابر حافظه‌ی اصلی خود را به سواپ اختصاص دهید. با این حال در سیستم‌های امروزی معمولاً آنقدر حافظه‌ی اصلی وجود دارد که به ندرت نیازی به استفاده از سواپ می‌شود، در نتیجه لازم نیست قاعده‌ی بالا را رعایت کنید.

## تمرین

فضای خالی روی درایو USB را برای فضای سواپ آماده کنید.

## سؤال آزمون

چه دستوری را برای فعال کردن سواپ بر روی یک دیوایس، به کار می‌گیرید؟

## پاسخ آزمون

swapon
