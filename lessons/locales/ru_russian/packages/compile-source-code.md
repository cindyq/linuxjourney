# Компиляция исходного кода

## Содержание урока

Часто вы сталкиваетесь с непонятным пакетом, который поставляется только в виде чистого исходного кода. Вам нужно будет использовать несколько команд, чтобы получить этот пакет исходного кода, скомпилировать и установить в вашей системе.

Во-первых, вам нужно иметь программное обеспечение для установки инструментов, которые позволят вам скомпилировать исходный код.

<pre>$ sudo apt install build-essential</pre>

Когда вы это сделаете, извлеките содержимое файла пакета, скорее всего это файл .tar.gz.

<pre>$ tar -xzvf package.tar.gz</pre>

Прежде чем что-либо сделать, взгляните на файл README или INSTALL внутри пакета. Иногда могут появиться специальные инструкции по установке.

В зависимости от того, какой метод компиляции использовался разработчиком, вам придется использовать различные команды, такие как cmake или что-то еще.

Однако чаще всего вы увидите базовую компиляцию make, поэтому мы обсудим это:

Внутри содержимого пакета будет скрипт configure, этот скрипт проверяет наличие зависимостей в вашей системе, и если вы чего-то не хватает, вы увидите ошибку, и вам нужно будет исправить эти зависимости.

<pre>$ ./configure</pre>

<b>./</b> позволяет выполнить сценарий в текущем каталоге.

<pre>$ make</pre>

Внутри содержимого пакета есть файл с именем Makefile, который содержит правила построения программного обеспечения. Когда вы запускаете команду make, она просматривает этот файл для создания программного обеспечения.

<pre>$ sudo make install</pre>

Эта команда действительно устанавливает пакет, он скопирует нужные файлы в нужные места на вашем компьютере.

Если вы хотите удалить пакет, используйте:

<pre>$ sudo make uninstall</pre>

Будьте осторожны при использовании make install, вы можете не оссознавать, сколько всего на самом деле происходит в фоновом режиме. Если вы решите удалить этот пакет, вы не сможете удалить все, потому что вы просто не понимаете, что было добавлено в вашу систему. Вместо этого забудьте все о make install, которые я только что объяснил вам, и воспользуйтесь командой <b>checkinstall</b>. Эта команда создаст для вас файл .deb, который можно легко установить и удалить.

<pre>$ sudo checkinstall</pre> 

Эта команда «сделает установку» и создаст пакет .deb и установит его. Это облегчает удаление пакета позже.

## Задание

Найдите программу с исходным кодом (с надежного сайта) и установите из исходников.

## Вопрос

Что вы должны ВСЕГДА использовать вместо make install? 

## Ответ

checkinstall
