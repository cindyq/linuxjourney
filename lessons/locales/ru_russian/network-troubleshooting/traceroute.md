# traceroute

## Содержание урока

Команда traceroute используется для определения маршрутизации пакетов. Он работает, отправляя пакеты с увеличивающимися значениями TTL, начиная с 1. Таким образом, первый маршрутизатор получает пакет, и он уменьшает значение TTL на единицу, тем самым отбрасывая пакет. Маршрутизатор отправляет обратно сообщение ICMP Time Exceeded. И затем следующий пакет получает TTL 2, поэтому он пропускает первый маршрутизатор, но когда он попадает на второй маршрутизатор, TTL равен 0 и он возвращает другое сообщение ICMP Time Exceeded. Traceroute работает таким образом, поскольку при отправке и отбрасывании пакетов создается список маршрутизаторов, которые проходят пакеты, до тех пор, пока он, наконец, не дойдет до адресата и не получит сообщение ICMP Echo Reply.

Вот небольшой отрывок traceroute:

<pre>
$ traceroute google.com                                                                          
traceroute to google.com (216.58.216.174), 30 hops max, 60 byte packets                          
 1  192.168.4.254 (192.168.4.254)  0.028 ms  0.009 ms  0.008 ms                                  
 2  100.64.1.113 (100.64.1.113)  1.227 ms  1.226 ms 0.920 ms
 3  100.64.0.20 (100.64.0.20)  1.501 ms 1.556 ms  0.855 ms                                                                                 
</pre>

Каждая строка - это маршрутизатор или машина, которая находится между мной и моей целью. Он показывает имя целевого объекта и его IP-адрес, а последние три столбца соответствуют времени прохождения пакета, чтобы добраться до этого маршрутизатора. По умолчанию мы отправляем по маршруту три маршрута.

## Задание

Запустите команду traceroute на вашем компьютере и посмотрите результат.

## Вопрос

Что уменьшается на единицу при переходе через сеть?

## Ответ

ttl
