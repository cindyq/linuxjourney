# Отслеживание процессов: top

## Содержание урока

В этом курсе мы научимся, как читать и анализировать использование ресурсов в вашей системе, этот урок показывает отличные инструменты для использования, когда вам нужно отслеживать, что делает процесс.

<b>top</b>

Мы обсуждали top раньше, но мы собираемся разобраться в специфике того, что она отображает на самом деле. Помните, что top - это инструмент, который мы использовали для получения в режиме реального времени использования системы нашими процессами:

<pre>
top - 18:06:26 up 6 days,  4:07,  2 users,  load average: 0.92, 0.62, 0.59
Tasks: 389 total,   1 running, 387 sleeping,   0 stopped,   1 zombie
%Cpu(s):  1.8 us,  0.4 sy,  0.0 ni, 97.6 id,  0.1 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:  32870888 total, 27467976 used,  5402912 free,   518808 buffers
KiB Swap: 33480700 total,    39892 used, 33440808 free. 19454152 cached Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                             
 6675 patty    20   0 1731472 520960  30876 S   8.3  1.6 160:24.79 chrome                             
 6926 patty    20   0  935888 163456  25576 S   4.3  0.5   5:28.13 chrome 
</pre>

Давайте рассмотрим, что означает этот вывод, вам не нужно запоминать это, но вернитесь к этому, когда вам нужна ссылка.

<b>1-я строка: это та же самая информация, которую вы увидите, если запустили команду uptime (еще не все)</b>

Поля слева направо:
<ol>
<li>Текущее время</li>
<li>Как долго система работает</li>
<li>Сколько пользователей в настоящее время загружено</li>
<li>Средняя загрузка системы</li>
</ol>

<b>2-я строка: задачи, которые выполняются, спят, остановлены и зомби</b>

<b>Третья строка: информация о процессоре</b>

<ol>
<li>us: время CPU пользователя - Процент времени процессора, затрачиваемого на выполнение процессов пользователей, которые не привязаны.</li>
<li>sy: Системное время ЦП - процентное время процессорного времени, затрачиваемого на запуск ядра и процессов ядра</li>
<li>ni: nice время процессора - процент времени процессора, затраченного на выполнение niced процессов</li>
<li>id: простой процессор - процент от процессорного времени, которое простаивает</li>
<li>wa: ожидание ввода-вывода - процент от процессорного времени, затраченного на ожидание ввода-вывода. Если это значение низкое, проблема, вероятно, заключается не в дисковой или сетевой I/O</li> 
<li>hi: аппаратные прерывания - Процент от процессорного времени, затраченного на обслуживание аппаратных прерываний</li>
<li>si: Программные прерывания - Процент от процессорного времени, затраченного на обслуживание программных прерываний</li>
<li>st: кража времени - если вы работаете с виртуальными машинами, то это процентное время CPU, которое было украдено у вас для других задач</li>
</ol>

<b>4-я и 5-я строка: использование памяти и использование свопов</b>

<b>Список процессов, которые в настоящее время используются</b>

<ol>
<li>PID: Идентификатор процесса</li>
<li>USER: Пользователь, являющийся владельцем процесса</li>
<li>PR: Приоритет процесса</li>
<li>NI: nice значение</li>
<li>VIRT: Виртуальная память, используемая процессом</li>
<li>RES: Физическая память, используемая в процессе</li>
<li>SHR: Общая память процесса</li>
<li>S: Показывает статус процесса: S = спит, R = запущен, Z = зомби, D = без прерываний, T = остановлено</li>
<li>%CPU - Это процент CPU, используемый этим процессом</li>
<li>%MEM - Процент ОЗУ, используемый этим процессом</li>
<li>TIME+ - Общее время активности этого процесса</li>
<li>COMMAND - Название процесса</li>
</ol>

Вы также можете указать идентификатор процесса, если хотите просто отслеживать определенные процессы:

<pre>$ top -p 1</pre>

## Задание

Введите команду top и посмотрите, какие процессы используют большинство ресурсов.

## Вопрос	

Какая команда отображает тот же результат, что и первая строка в top?

## Ответ

uptime