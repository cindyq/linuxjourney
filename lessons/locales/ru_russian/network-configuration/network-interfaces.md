# Сетевые интерфейсы

## Содержание урока

Сетевой интерфейс - это то, как ядро связывает программную сторону сети с аппаратной. Мы уже видели пример этого: 

<pre>
pete@icebox:~$ ifconfig -a
eth0      Link encap:Ethernet  HWaddr 1d:3a:32:24:4d:ce  
          inet addr:192.168.1.129  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fd60::21c:29ff:fe63:5cdc/64 Scope:Link
</pre>

<b> Команда ifconfig</b>

<b>ifconfig</b> позволяет нам настраивать наши сетевые интерфейсы, если у нас нет каких-либо сетевых интерфейсов, драйверы устройства ядра и сеть не будут знать, как общаться друг с другом. Ifconfig запускается при загрузке и настраивает наши интерфейсы через файлы конфигурации, но мы также можем вручную их модифицировать. Вывод ifconfig показывает имя интерфейса слева, а справа показывает подробную информацию. Наиболее часто вы увидите интерфейсы eth0 (первая карта Ethernet в машине), wlan0 (беспроводной интерфейс), lo (loopback interface). Интерфейс loopback используется для представления вашего компьютера, он просто возвращает вас обратно. Это полезно для отладки или подключения к локальным серверам.

Состояние интерфейсов может быть включено или выключено, как вы можете догадаться, если вы хотите «отключить» интерфейс, вы можете настроить его на выключение. Поля, которые вы, вероятно, больше всего рассмотрите в выходных данных ifconfig, это HWaddr (MAC-адрес интерфейса), inet-адрес (IPv4-адрес) и inet6 (адрес IPv6). Конечно, вы можете видеть, что маска подсети и широковещательный адрес также присутствуют. Вы также можете просмотреть информацию об интерфейсе в /etc/network/interfaces.

<b>Чтобы создать интерфейс и включить его</b>

<pre>$ ifconfig eth0 192.168.2.1 netmask 255.255.255.0 up</pre>

Это назначает IP-адрес и сетевую маску интерфейсу eth0, а также включает его.

<b>Чтобы включить или выключить интерфейс</b>

<pre>
$ ifup eth0
$ ifdown eth0
</pre>

<b> Команда ip</b>

<b>ip</b> команда также позволяет нам манипулировать сетевым стеком системы. В зависимости от того, какой дистрибутив вы используете, это может быть предпочтительный метод управления настройками сети.

Вот несколько примеров его использования:

<b>Отображение информации интерфейса для всех интерфейсов</b>
<pre>
$ ip link show
</pre>

<b>Чтобы показать статистику интерфейса</b>
<pre>
$ ip -s link show eth0
</pre>


<b>Показать IP-адреса, выделенные для интерфейсов</b>
<pre>
$ ip address show
</pre>

<b>Включение и отключение интерфейсов</b>
<pre>
$ ip link set eth0 up
$ ip link set eth0 down
</pre>

<b>Добавление IP-адреса в интерфейс</b>
<pre>
$ ip address add 192.168.1.1/24 dev eth0
</pre>




## Задание

Попробуйте изменить состояние ваших сетевых интерфейсов и понаблюдайте за тем, что происходит.

Можете ли вы изменить свой сетевой интерфейс с помощью команд ifconfig и ip?

## Вопрос

Какова команда для настройки сетевых интерфейсов?

## Ответ

ifconfig
