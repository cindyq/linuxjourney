# Обзор System V

## Содержание урока

Основной целью init является запуск и остановка основных процессов в системе. Существует три основных реализации init в Linux, System V, Upstart и systemd. В этом уроке мы рассмотрим наиболее традиционную версию init, System V init или Sys V (произносится как «System Five»). 

Чтобы узнать, используете ли вы реализацию Sys V init, проверьте файл /etc/inittab, если он у вас есть, то скорее всего вы используете Sys V. 

Sys V запускает и останавливает процессы последовательно, так скажем, если вы хотите запустить службу с именем foo-a, задолго до foo-b, то вы должны убедиться, что foo-a уже запущен. Sys V делает это со скриптами, эти скрипты запускают и останавливают сервисы для нас, мы можем написать наши собственные скрипты или в большинстве случаев использовать те, которые уже встроены в операционную систему и используются для загрузки основных служб. 

Плюсы использования этой реализации init - в том, что относительно легко разрешать зависимости, так как вы знаете, что foo-a предшествует foo-b, однако производительность не велика, потому что обычно одна вещь запускается или останавливается за один раз.

При использовании Sys V состояние машины определяется уровнями запуска, которые устанавливаются в диапазоне от 0 до 6. Эти различные режимы будут зависеть от дистрибутива, но большую часть времени это будет выглядеть следующим образом: 

<ul>
<li>0: Выключение</li>
<li>1: Однопользовательский режим</li>
<li>2: Многопользовательский режим без сети</li>
<li>3: Многопользовательский режим с сетью</li>
<li>4: Неиспользуемый</li>
<li>5: Многопользовательский режим с сетью и графическим интерфейсом</li>
<li>6: Перезагрузка</li>
</ul>

Когда ваша система запускается, она смотрит на каком уровне запуска вы находитесь, и выполняет скрипты, расположенные внутри конфигурации уровня запуска. Сценарии расположены в <b>/etc/rc.d/rc[номер уровня запуска].d/</b> или <b>/etc/init.d</b>. Скрипты, которые начинаются с S (start) или K (kill), будут запускаться при запуске и завершении, соответственно. Номера рядом с этими символами - последовательность, в которой они выполняются. 

Например:

<pre>
pete@icebox:/etc/rc.d/rc0.d$ ls
K10updates  K80openvpn        
</pre>

Когда мы переключаемся на уровень 0 или режим выключения, наша машина будет пытаться запустить скрипт, чтобы убить сервисы обновлений, а затем openvpn. Чтобы узнать, на каком уровне запуска ваша машина загружается, вы должны перейти по умолчанию в файле /etc/inittab. Также можно изменить уровень запуска по умолчанию в этом файле.

Следует отметить, что System V постепенно заменяется, возможно, не сегодня, но годами позже. Вы можете увидеть, что уровни запуска появляются в других реализациях init, это прежде всего для поддержки тех служб, которые только запускаются или останавливаются с использованием скриптов инициализации System V.

## Задание

Если вы используете System V, измените уровень выполнения вашей машины по умолчанию на что-либо другое и посмотрите, что произойдет.

## Вопрос

Какой уровень запуска обычно используется для завершения работы?

## Ответ

0
